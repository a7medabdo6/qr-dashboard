(this["webpackJsonpdevias-material-kit-pro"]=this["webpackJsonpdevias-material-kit-pro"]||[]).push([[29],{1090:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ue}));var n=a(94),l=a(13),r=a(18),c=a(0),o=a.n(c),i=a(4),d=a.n(i),u=a(1010),m=a(991),s=a.n(m),f=a(1012),p=a.n(f),b=a(1013),v=a.n(b),g=a(1014),h=a.n(g),y=a(1015),E=a.n(y),j=a(897),O=a(5),D=a(28),C=a(896),k=a(913),w=a(914),N=a(286),A=(a(1016),a(1017),a(1018),a(1019),a(27)),x=a(16),M=a(24),Y=a(9),W=a(2),T=a(3),S=a.n(T),V=a(70),B=a(932),G=a(934),P=a(984),R=a(916),H=a(926),I=a(883),J=a(884),z=a(288),F=a.n(z),L=["event","onDelete","onCancel","onAdd","onEdit","className"],q=Object(j.a)((function(e){return{root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",boxShadow:e.shadows[20],width:700,maxHeight:"100%",overflowY:"auto",maxWidth:"100%"},field:{marginTop:e.spacing(3)},cancelButton:{marginLeft:"auto"},confirmButton:{color:e.palette.white,backgroundColor:O.a.green[600],"&:hover":{backgroundColor:O.a.green[900]}}}})),K=Object(c.forwardRef)((function(e,t){var a=e.event,n=e.onDelete,i=e.onCancel,u=e.onAdd,m=e.onEdit,s=e.className,f=Object(Y.a)(e,L),p=q(),b={title:"Event title",desc:"Event description",allDay:!1,start:d()().toDate(),end:d()().toDate()},v=Object(c.useState)(a||b),g=Object(l.a)(v,2),h=g[0],y=g[1],E=a?"edit":"add",j=function(e){e.persist(),y((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(M.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value))}))};return o.a.createElement(k.a,Object.assign({},f,{className:Object(W.a)(p.root,s),ref:t}),o.a.createElement("form",null,o.a.createElement(w.a,null,o.a.createElement(V.a,{align:"center",gutterBottom:!0,variant:"h3"},"add"===E?"Add Event":"Edit Event"),o.a.createElement(B.a,{className:p.field,fullWidth:!0,label:"Title",name:"title",onChange:j,value:h.title,variant:"outlined"}),o.a.createElement(B.a,{className:p.field,fullWidth:!0,label:"Description",name:"desc",onChange:j,value:h.desc,variant:"outlined"}),o.a.createElement(G.a,{className:p.field,control:o.a.createElement(P.a,{checked:h.allDay,name:"allDay",onChange:j}),label:"All day"}),o.a.createElement(B.a,{className:p.field,defaultValue:d()(h.start).format("YYYY-MM-DDThh:mm:ss"),fullWidth:!0,label:"Start date",name:"start",onChange:j,type:"datetime-local",variant:"outlined"}),o.a.createElement(B.a,{className:p.field,defaultValue:d()(h.end).format("YYYY-MM-DDThh:mm:ss"),disabled:h.allDay,fullWidth:!0,label:"End date",name:"end",onChange:j,type:"datetime-local",variant:"outlined"})),o.a.createElement(R.a,null),o.a.createElement(H.a,null,o.a.createElement(I.a,{edge:"start",onClick:function(){n&&n(a)}},o.a.createElement(F.a,null)),o.a.createElement(J.a,{className:p.cancelButton,onClick:i,variant:"contained"},"Cancel"),"add"===E?o.a.createElement(J.a,{className:p.confirmButton,onClick:function(){h.title&&h.desc&&u(Object(r.a)(Object(r.a)({},h),{},{id:S()()}))},variant:"contained"},"Add"):o.a.createElement(J.a,{className:p.confirmButton,onClick:function(){h.title&&h.desc&&m(h)},variant:"contained"},"Save"))))})),Q=a(930),U=a(943),X=a(959),Z=a(915),$=a(1020),_=a.n($),ee=a(1021),te=a.n(ee),ae=a(1022),ne=a.n(ae),le=a(1023),re=a.n(le),ce=["date","view","onDatePrev","onDateNext","onEventAdd","onViewChange","onDateToday","className"],oe=Object(j.a)((function(){return{root:{}}})),ie=function(e){var t=e.date,a=e.view,n=e.onDatePrev,l=e.onDateNext,r=e.onEventAdd,c=e.onViewChange,i=e.onDateToday,u=e.className,m=Object(Y.a)(e,ce),s=oe(),f=[{label:"Month",value:"dayGridMonth",icon:_.a},{label:"Week",value:"timeGridWeek",icon:te.a},{label:"Day",value:"timeGridDay",icon:ne.a},{label:"Agenda",value:"listWeek",icon:re.a}];return o.a.createElement("div",Object.assign({},m,{className:Object(W.a)(s.root,u)}),o.a.createElement(Q.a,{alignItems:"flex-end",container:!0,justify:"space-between",spacing:3},o.a.createElement(Q.a,{item:!0},o.a.createElement(V.a,{component:"h2",gutterBottom:!0,variant:"overline"},"Calendar"),o.a.createElement(V.a,{component:"h1",variant:"h3"},"Here's what you planned")),o.a.createElement(Q.a,{item:!0},o.a.createElement(J.a,{color:"primary",onClick:r,variant:"contained"},"Add event"))),o.a.createElement(Q.a,{alignItems:"center",container:!0,justify:"space-between",spacing:3},o.a.createElement(Q.a,{item:!0},o.a.createElement(U.a,null,o.a.createElement(J.a,{onClick:n},"Prev"),o.a.createElement(J.a,{onClick:i},"Today"),o.a.createElement(J.a,{onClick:l},"Next"))),o.a.createElement(X.a,{smDown:!0},o.a.createElement(Q.a,{item:!0},o.a.createElement(V.a,{variant:"h3"},d()(t).format("MMMM YYYY"))),o.a.createElement(Q.a,{item:!0},f.map((function(e){var t=e.icon;return o.a.createElement(Z.a,{key:e.value,title:e.label},o.a.createElement(I.a,{color:e.value===a?"primary":"default",onClick:function(){return c(e.value)}},o.a.createElement(t,null)))}))))))},de=Object(j.a)((function(e){return{root:{height:"100%",padding:e.spacing(3),"& .fc-unthemed td":{borderColor:e.palette.divider},"& .fc-widget-header":{backgroundColor:O.a.grey[50]},"& .fc-axis":Object(r.a)({},e.typography.body2),"& .fc-list-item-time":Object(r.a)({},e.typography.body2),"& .fc-list-item-title":Object(r.a)({},e.typography.body1),"& .fc-list-heading-main":Object(r.a)({},e.typography.h6),"& .fc-list-heading-alt":Object(r.a)({},e.typography.h6),"& .fc th":{borderColor:e.palette.divider},"& .fc-day-header":Object(r.a)(Object(r.a)({},e.typography.subtitle2),{},{fontWeight:500,color:e.palette.text.secondary,padding:e.spacing(1),backgroundColor:O.a.grey[50]}),"& .fc-day-top":Object(r.a)({},e.typography.body2),"& .fc-highlight":{backgroundColor:O.a.blueGrey[50]},"& .fc-event":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,borderWidth:2,opacity:.9,"& .fc-time":Object(r.a)(Object(r.a)({},e.typography.h6),{},{color:"inherit"}),"& .fc-title":Object(r.a)(Object(r.a)({},e.typography.body1),{},{color:"inherit"})},"& .fc-list-empty":Object(r.a)({},e.typography.subtitle1)},card:{marginTop:e.spacing(3)}}})),ue=function(){var e=de(),t=Object(c.useRef)(null),a=Object(D.a)(),r=Object(C.a)(a.breakpoints.down("sm")),i=Object(c.useState)(r?"listWeek":"dayGridMonth"),m=Object(l.a)(i,2),f=m[0],b=m[1],g=Object(c.useState)(d()("2019-07-30 08:00:00").toDate()),y=Object(l.a)(g,2),j=y[0],O=y[1],M=Object(c.useState)([]),Y=Object(l.a)(M,2),W=Y[0],T=Y[1],S=Object(c.useState)({open:!1,event:null}),V=Object(l.a)(S,2),B=V[0],G=V[1];Object(c.useEffect)((function(){var e=!0;return e&&A.a.get("/api/calendar").then((function(e){return T(e.data.events)})),function(){e=!1}}),[]),Object(c.useEffect)((function(){var e=t.current.getApi(),a=r?"listWeek":"dayGridMonth";e.changeView(a),b(a)}),[r]);var P=function(){G({open:!1,event:null})};return o.a.createElement(x.k,{className:e.root,title:"Calendar"},o.a.createElement(ie,{date:j,onDateNext:function(){var e=t.current.getApi();e.next(),O(e.getDate())},onDatePrev:function(){var e=t.current.getApi();e.prev(),O(e.getDate())},onDateToday:function(){var e=t.current.getApi();e.today(),O(e.getDate())},onEventAdd:function(){G({open:!0,event:null})},onViewChange:function(e){t.current.getApi().changeView(e),b(e)},view:f}),o.a.createElement(k.a,{className:e.card},o.a.createElement(w.a,null,o.a.createElement(u.a,{allDayMaintainDuration:!0,defaultDate:j,defaultView:f,droppable:!0,editable:!0,eventClick:function(e){var t=W.find((function(t){return t.id===e.event.id}));G({open:!0,event:t})},eventResizableFromStart:!0,events:W,header:!1,height:800,plugins:[s.a,p.a,v.a,h.a,E.a],ref:t,rerenderDelay:10,selectable:!0,weekends:!0}))),o.a.createElement(N.a,{onClose:P,open:B.open},o.a.createElement(K,{event:B.event,onAdd:function(e){T((function(t){return[].concat(Object(n.a)(t),[e])})),G({open:!1,event:null})},onCancel:P,onDelete:function(e){T((function(t){return t.filter((function(t){return t.id!==e.id}))})),G({open:!1,event:null})},onEdit:function(e){T((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),G({open:!1,event:null})}})))}}}]);
//# sourceMappingURL=29.7e470466.chunk.js.map